<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>끝말잇기</title>
</head>

<body>
  <div><span id="order">1</span>번째 참가자</div>
  <div>제시어 : <span id="word"></span></div>
  <input type="text">
  <button>입력</button>
  <script>
    const number = Number(prompt('몇 명이 참가하나요?'), 10); //10진법
    const $button = document.querySelector('button');
    const $input = document.querySelector('input');
    const $word = document.querySelector('#word');
    const $order = document.querySelector('#order');
    let word; //제시어
    let newWord; //새로 입력한 단어


    const onClickButton = () => {
      if (!word || word[word.length - 1] == newWord[0]) { //제시어가 비어있는가?
        //비어있다
        word = newWord; //입력한 단어가 제시어가 됨
        $word.textContent = word;  //span에 값을 넣어주는 거
        const order = parseInt($order.textContent); //현재 순서 
        if (order + 1 > number) { //마지막 차례일 때 (<-바로 다음차례가 입력한 숫자보다 크다면)
          $order.textContent = 1; //1이 된다
        } else {
          $order.textContent = order + 1;
        }
      }else{
        //올바르지 않을 때
        alert('올바르지 않은 단어입니다!');
      }
      $input.value = ''; //input(입력값)은 안에 들어있는게 value고 span이나 다른 태그들은 textcontent
      $input.focus(); //커서 깜빡이기
    };

    const onInput = (event) => {
      newWord = event.target.value; //글자를 입력할 때마다 newWord 변수에 저장됨
    };

    $button.addEventListener('click', onClickButton); //click 할 때마다 onClickButton 함수 실행
    $input.addEventListener('input', onInput);

  //textContent는 반드시 문자열이라서 parseInt로 다시 숫자로 돌려줘야함

  </script>


</body>

</html>